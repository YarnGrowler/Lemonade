<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=2.4">
    <title>Lemonade Settings - Discord Encryption</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 25%, #e17055 50%, #fd79a8 75%, #6c5ce7 100%);
            min-height: 100vh;
            padding: 20px;
            color: #2d3436;
            overflow-x: hidden;
        }

        .container {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 24px;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.15);
            padding: 40px;
            max-width: 900px;
            width: 100%;
            margin: 0 auto;
            backdrop-filter: blur(20px);
            animation: slideUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(40px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            background: linear-gradient(135deg, #fdcb6e, #e17055);
            padding: 30px;
            border-radius: 20px;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .logo {
            font-size: 64px;
            margin-bottom: 16px;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 1;
        }

        .title {
            font-size: 36px;
            font-weight: 800;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 1;
        }

        .subtitle {
            font-size: 18px;
            opacity: 0.9;
            font-weight: 500;
            position: relative;
            z-index: 1;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .feature-card {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            padding: 24px;
            border-radius: 16px;
            color: white;
            box-shadow: 0 8px 32px rgba(116, 185, 255, 0.3);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(116, 185, 255, 0.4);
        }

        .feature-card h3 {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .feature-card p {
            font-size: 14px;
            line-height: 1.6;
            opacity: 0.9;
        }

        .section {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            border: 1px solid rgba(116, 185, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .section-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 16px;
            background: linear-gradient(45deg, #fdcb6e, #e17055);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #2d3436;
            font-size: 14px;
        }

        .input-container {
            position: relative;
        }

        .input {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.9);
            font-family: inherit;
        }

        .input:focus {
            outline: none;
            border-color: #fdcb6e;
            background: white;
            box-shadow: 0 0 0 4px rgba(253, 203, 110, 0.15);
        }

        .toggle-password {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            opacity: 0.6;
            transition: opacity 0.3s;
        }

        .toggle-password:hover {
            opacity: 1;
        }

        .button {
            padding: 16px 24px;
            background: linear-gradient(45deg, #fdcb6e, #e17055);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            margin-right: 12px;
            margin-bottom: 12px;
            box-shadow: 0 4px 16px rgba(253, 203, 110, 0.3);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(253, 203, 110, 0.4);
        }

        .button:active {
            transform: translateY(0);
        }

        .button.secondary {
            background: linear-gradient(45deg, #74b9ff, #0984e3);
            box-shadow: 0 4px 16px rgba(116, 185, 255, 0.3);
        }

        .button.secondary:hover {
            box-shadow: 0 8px 24px rgba(116, 185, 255, 0.4);
        }

        .button.danger {
            background: linear-gradient(45deg, #fd79a8, #e84393);
            box-shadow: 0 4px 16px rgba(253, 121, 168, 0.3);
        }

        .button.danger:hover {
            box-shadow: 0 8px 24px rgba(253, 121, 168, 0.4);
        }

        .button.success {
            background: linear-gradient(45deg, #00b894, #00cec9);
            box-shadow: 0 4px 16px rgba(0, 184, 148, 0.3);
        }

        .button.success:hover {
            box-shadow: 0 8px 24px rgba(0, 184, 148, 0.4);
        }

        .status {
            padding: 16px 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            font-weight: 500;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .status.success {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            color: #155724;
            border-color: #00b894;
        }

        .status.error {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            color: #721c24;
            border-color: #e84393;
        }

        .status.info {
            background: linear-gradient(135deg, #cce7ff, #b3d7ff);
            color: #004085;
            border-color: #74b9ff;
        }

        .help-text {
            font-size: 13px;
            color: #636e72;
            margin-top: 8px;
            line-height: 1.5;
        }

        .warning {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            color: #856404;
            border: 2px solid #fdcb6e;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
        }

        .warning-title {
            font-weight: 700;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 12px 16px;
            font-size: 13px;
            background: rgba(255, 255, 255, 0.7);
            padding: 16px;
            border-radius: 8px;
            margin: 12px 0;
        }

        .info-label {
            font-weight: 600;
            color: #2d3436;
        }

        .info-value {
            font-family: 'Monaco', 'Menlo', monospace;
            background: white;
            padding: 4px 8px;
            border-radius: 4px;
            border: 1px solid #e1e5e9;
            word-break: break-all;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 12px;
            margin: 12px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checkbox-group:hover {
            background: rgba(255, 255, 255, 0.9);
        }

        .checkbox-group input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: #fdcb6e;
            cursor: pointer;
        }

        .contact-list {
            max-height: 200px;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            padding: 12px;
        }

        .contact-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            background: white;
            border-radius: 8px;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .contact-name {
            font-weight: 600;
            color: #2d3436;
        }

        .contact-id {
            font-family: 'Monaco', 'Menlo', monospace;
            color: #636e72;
            font-size: 11px;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 24px;
            border-top: 2px solid rgba(253, 203, 110, 0.2);
            color: #636e72;
        }

        .footer h3 {
            color: #2d3436;
            margin-bottom: 16px;
            font-size: 24px;
        }

        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 12px;
            margin: 20px 0;
            text-align: left;
        }

        .feature-item {
            background: rgba(255, 255, 255, 0.8);
            padding: 12px 16px;
            border-radius: 8px;
            border-left: 4px solid #fdcb6e;
            font-size: 13px;
        }

        .version-badge {
            display: inline-block;
            background: linear-gradient(45deg, #00b894, #00cec9);
            color: white;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 14px;
            font-weight: 700;
            margin-left: 12px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .header {
                padding: 20px;
            }
            
            .logo {
                font-size: 48px;
            }
            
            .title {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">üçã</div>
            <h1 class="title">Lemonade Settings</h1>
            <p class="subtitle">Sweet & Secure Discord Encryption <span class="version-badge">v2.5.0</span></p>
        </div>

        <div id="status-message" class="status" style="display: none;"></div>

        <!-- Comprehensive Features Overview -->
        <div class="section">
            <h2 class="section-title">üåü Lemonade Features</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <h3>üîê End-to-End Encryption</h3>
                    <p>Military-grade AES-GCM and ECDH P-256 encryption ensures your messages stay private between trusted contacts.</p>
                </div>
                <div class="feature-card">
                    <h3>üé¨ Media URL Encryption</h3>
                    <p>Encrypt GIF and image URLs from Discord's picker. Links open in new tabs when clicked.</p>
                </div>
                <div class="feature-card">
                    <h3>üë• Auto Contact Discovery</h3>
                    <p>Automatically discover and store encryption keys from trusted contacts without manual setup.</p>
                </div>
                <div class="feature-card">
                    <h3>üîÑ Perfect Forward Secrecy</h3>
                    <p>Automatic key rotation ensures past messages remain secure even if current keys are compromised.</p>
                </div>
                <div class="feature-card">
                    <h3>üé≠ Stealth Mode</h3>
                    <p>Messages are encoded as Chinese characters (or 15 other languages), making them invisible to casual observers.</p>
                </div>
                <div class="feature-card">
                    <h3>üõ°Ô∏è Memory Security</h3>
                    <p>DoD 5220.22-M memory wiping and nuclear security options protect against advanced attacks.</p>
                </div>
            </div>
            
            <div class="warning" style="background: linear-gradient(135deg, #ff6b6b, #ee5a52); color: white; margin-top: 20px;">
                <div class="warning-title">‚ö†Ô∏è Current Limitations</div>
                <p><strong>Being honest about what doesn't work yet:</strong></p>
                <ul style="margin: 10px 0; padding-left: 20px;">
                    <li>‚ùå <strong>Mobile Support</strong> - Not optimized for mobile Discord web</li>
                    <li>‚ùå <strong>GIF Modal Expansion</strong> - GIFs open in new tabs instead of in-app modals</li>
                    <li>‚ùå <strong>Firefox/Safari</strong> - Currently Chrome-based browsers only (Manifest V3)</li>
                    <li>‚ùå <strong>User Syncing</strong> - No cross-device synchronization</li>
                    <li>‚ùå <strong>Nuclear Wipe Mobile</strong> - Emergency controls not mobile-friendly</li>
                </ul>
                <p style="margin: 10px 0 0 0; font-size: 13px; opacity: 0.9;">
                    <strong>We're working on:</strong> Firefox/Safari compatibility, mobile-responsive design, in-app media viewing modals
                </p>
            </div>
        </div>

        <!-- Basic Settings -->
        <div class="section">
            <h2 class="section-title">üîë Basic Encryption Settings</h2>

        <div class="warning">
                <div class="warning-title">üçã Security Notice</div>
                <p>Share your encryption key only with trusted contacts. Anyone with this key can decrypt your messages. Store it securely!</p>
        </div>

        <form id="key-form">
            <div class="form-group">
                <label class="label" for="encryption-key">Encryption Key</label>
                <div class="input-container">
                    <input 
                        type="password" 
                        id="encryption-key" 
                        class="input" 
                        placeholder="Enter your shared encryption key"
                        autocomplete="new-password"
                    >
                    <button type="button" class="toggle-password" id="toggle-password">üëÅÔ∏è</button>
                </div>
                <div class="help-text">
                    This key will be used to encrypt and decrypt your messages. Make sure your contacts use the same key.
                </div>
            </div>

                <button type="submit" class="button success" id="save-button">
                    üíæ Save Encryption Key
            </button>

            <button type="button" class="button secondary" id="test-button">
                    üß™ Test Encryption
                </button>
            </form>
        </div>

        <!-- Asymmetric Encryption -->
        <div class="section">
            <h2 class="section-title">üîê Advanced Asymmetric Encryption</h2>
            <div class="help-text" style="margin-bottom: 16px;">
                Advanced elliptic curve encryption with automatic key exchange. No pre-shared keys needed - each user generates their own keypair and public keys are embedded in messages.
            </div>
            
            <div class="checkbox-group">
                <input type="checkbox" id="enable-asymmetric">
                <label for="enable-asymmetric" style="cursor: pointer;">
                    <strong>Enable asymmetric encryption (EC P-256)</strong><br>
                    <small style="color: #636e72;">Uses elliptic curve cryptography with automatic key rotation and contact discovery</small>
                </label>
            </div>

            <div id="asymmetric-settings" style="display: none;">
                <div class="form-group">
                    <label class="label">Key Rotation Interval</label>
                    <select id="ec-rotation-interval" class="input">
                        <option value="3600000" selected>1 Hour (Recommended)</option>
                        <option value="1800000">30 Minutes</option>
                        <option value="900000">15 Minutes</option>
                        <option value="300000">5 Minutes</option>
                        <option value="60000">1 Minute</option>
                        <option value="30000">30 Seconds</option>
                        <option value="10000">10 Seconds (Demo)</option>
                        <option value="manual">Manual Only</option>
                    </select>
                    <div class="help-text">
                        How often to rotate your private key for forward secrecy
                    </div>
                </div>

                <!-- User ID Setting -->
                <div class="warning">
                    <div class="warning-title">üë§ Discord User ID Setting</div>
                    <p style="margin-bottom: 16px;"><strong>Fix message decryption issues:</strong> Sometimes the system gets confused about your Discord user ID, causing encryption failures. Set your ID manually to prevent this.</p>
                    
                    <div class="info-grid">
                        <span class="info-label">Current User ID:</span>
                        <span id="current-user-id" class="info-value">Not set</span>
                        
                        <span class="info-label">Username:</span>
                        <span id="current-username" class="info-value">Not set</span>
                    </div>
                    
                    <div class="form-group">
                        <label class="label">Set Your Discord User ID</label>
                        <input type="text" id="manual-user-id" class="input" placeholder="e.g. 1127964562625417346" style="font-family: monospace;">
                        <div class="help-text">
                            üìã <strong>How to find your ID:</strong> Go to Discord Settings ‚Üí Advanced ‚Üí Enable "Developer Mode" ‚Üí Right-click your profile ‚Üí "Copy User ID"
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="label">Set Your Username (Optional)</label>
                        <input type="text" id="manual-username" class="input" placeholder="e.g. YourDiscordName">
                        <div class="help-text">
                            This is just for display purposes in your contacts list
                        </div>
                    </div>
                    
                    <button id="set-user-id" class="button success">
                            üíæ Set User ID
                        </button>
                    <button id="auto-detect-user-id" class="button secondary">
                            üîç Auto-Detect
                        </button>
                </div>

                <!-- Key Management -->
                <div class="info-grid">
                    <span class="info-label">Key ID:</span>
                    <span id="current-key-id" class="info-value">Loading...</span>
                        
                    <span class="info-label">Created:</span>
                    <span id="key-created" class="info-value">Loading...</span>
                        
                    <span class="info-label">Next Rotation:</span>
                    <span id="next-rotation" class="info-value">N/A</span>
                        
                    <span class="info-label">Contacts:</span>
                    <span id="contact-count" class="info-value">0</span>
                    </div>
                    
                <div class="form-group">
                    <label class="label">Your Public Key</label>
                    <textarea id="my-public-key" readonly class="input" style="height: 80px; font-family: monospace; font-size: 12px; resize: none;" placeholder="Loading..."></textarea>
                    </div>
                    
                <button id="rotate-keys-now" class="button secondary">
                            üîÑ Rotate Keys Now
                        </button>
                <button id="export-public-key" class="button secondary">
                            üìã Copy Public Key
                        </button>
                <button id="clear-all-contacts" class="button danger">
                            üóëÔ∏è Clear Contacts
                        </button>

                <!-- Contacts Section -->
                <h3 style="margin: 24px 0 12px 0; color: #2d3436;">üë• Discovered Contacts</h3>
                <div class="contact-list">
                    <div id="contact-list-content" style="text-align: center; color: #636e72; padding: 20px;">
                            No contacts discovered yet. Send an encrypted message to discover contacts automatically.
                    </div>
                </div>
                <button id="view-contacts" class="button secondary">
                    üîÑ Refresh Contacts
                </button>
             
                <div id="asymmetric-status" style="background: rgba(255, 255, 255, 0.7); padding: 16px; border-radius: 8px; margin-top: 16px; font-size: 14px;">
                    Status: <span id="ec-status-text">Initializing...</span>
                </div>
            </div>
        </div>

        <!-- Stealth Language Settings -->
        <div class="section">
            <h2 class="section-title">üé≠ Stealth Language Settings</h2>
            <div class="help-text" style="margin-bottom: 16px;">
                Choose how your encrypted messages appear to others. The language is purely cosmetic - anyone with Lemonade can decrypt regardless of display language!
            </div>
            
            <div class="form-group">
                <label class="label">Stealth Display Language</label>
                <select id="stealth-language" class="input">
                    <optgroup label="üåè Unicode Languages">
                        <option value="chinese">üá®üá≥ Chinese (Traditional)</option>
                        <option value="arabic">üá∏üá¶ Arabic</option>
                        <option value="japanese">üáØüáµ Japanese</option>
                        <option value="korean">üá∞üá∑ Korean</option>
                        <option value="russian">üá∑üá∫ Russian</option>
                        <option value="thai">üáπüá≠ Thai</option>
                        <option value="hindi">üáÆüá≥ Hindi</option>
                        <option value="greek">üá¨üá∑ Greek</option>
                        <option value="georgian">üá¨üá™ Georgian</option>
                        <option value="armenian">üá¶üá≤ Armenian</option>
                        <option value="amharic">üá™üáπ Amharic</option>
                    </optgroup>
                    <optgroup label="üî§ Special Encodings">
                        <option value="morse">üì° Morse Code</option>
                        <option value="braille">üëÜ Braille</option>
                        <option value="binary">üíª Binary</option>
                        <option value="invisible">üëª Invisible Characters</option>
                    </optgroup>
                </select>
                <div class="help-text">
                    <strong>Universal Compatibility:</strong> Your friends can use any language setting and still decrypt your messages perfectly!
                </div>
            </div>

            <div class="form-group">
                <label class="label">Live Preview</label>
                <div id="language-preview" style="background: rgba(255, 255, 255, 0.7); padding: 16px; border-radius: 8px; margin: 8px 0; font-family: monospace; min-height: 60px; display: flex; align-items: center; justify-content: center; color: #2d3436;">
                    Select a language to see preview...
                </div>
                <div class="help-text">
                    This is how "Hello World!" would appear to others in your selected language.
                </div>
            </div>

            <button id="save-language-settings" class="button success">
                üé≠ Save Language Settings
            </button>

            <div id="language-status" style="margin-top: 12px; font-size: 14px; color: #636e72;"></div>
        </div>

        <!-- Performance Settings -->
        <div class="section">
            <h2 class="section-title">‚ö° Performance Settings</h2>
            <div class="help-text" style="margin-bottom: 16px;">
                Configure how fast the extension scans for encrypted messages. Faster scanning = quicker decryption but more CPU usage.
            </div>
            
            <div class="form-group">
                <label class="label">Scan Frequency</label>
                <select id="scan-frequency" class="input">
                    <option value="500">‚ö° Ultra Fast (0.5s) - High CPU</option>
                    <option value="1000" selected>üöÄ Fast (1s) - Recommended</option>
                    <option value="2000">‚öñÔ∏è Balanced (2s) - Default</option>
                    <option value="3000">üêå Slow (3s) - Low CPU</option>
                    <option value="5000">ü¶¥ Very Slow (5s) - Minimal CPU</option>
                </select>
                <div class="help-text">
                    How often to scan Discord for encrypted messages. Lower = faster decryption.
                </div>
            </div>

            <div class="form-group">
                <label class="label">Initial Load Delay</label>
                <select id="initial-delay" class="input">
                    <option value="100">‚ö° Instant (0.1s)</option>
                    <option value="500" selected>üöÄ Fast (0.5s)</option>
                    <option value="1000">‚öñÔ∏è Normal (1s)</option>
                    <option value="2000">üêå Slow (2s)</option>
                </select>
                <div class="help-text">
                    How long to wait before starting decryption after loading a chat.
                </div>
            </div>

            <button id="save-speed-settings" class="button success">
                ‚ö° Save Speed Settings
            </button>

            <div id="speed-status" style="margin-top: 12px; font-size: 14px; color: #636e72;"></div>
        </div>

        <!-- Memory Security Settings -->
        <div class="section">
            <h2 class="section-title">üõ°Ô∏è Memory Security & Emergency Controls</h2>
            <div class="warning">
                <div class="warning-title">üí• NUCLEAR SECURITY OPTIONS</div>
                <p>These are <strong>powerful security tools</strong> for protecting your keys from memory attacks, browser exploits, and compromised systems. Use responsibly!</p>
            </div>
            
            <div class="help-text" style="margin-bottom: 16px;">
                <strong>New in v2.5.0:</strong> Military-grade memory wiping with DoD 5220.22-M standard (5-pass overwrite). Your keys are now automatically tracked and securely destroyed from memory and storage.
            </div>

            <div style="background: rgba(116, 185, 255, 0.1); padding: 16px; border-radius: 8px; margin-bottom: 16px; border-left: 4px solid #74b9ff;">
                <h4 style="color: #0984e3; margin: 0 0 8px 0;">üîí Automatic Security Features (Always Active)</h4>
                <ul style="margin: 0; padding-left: 20px; color: #2d3436;">
                    <li><strong>5-pass memory wiping</strong> during key rotation</li>
                    <li><strong>Secure storage deletion</strong> with overwrite protection</li>
                    <li><strong>Automatic key tracking</strong> and destruction</li>
                    <li><strong>Forced garbage collection</strong> to clear browser memory</li>
                </ul>
            </div>

            <div class="form-group">
                <label class="label">üîç Memory Security Status</label>
                <div id="memory-status" style="background: rgba(255, 255, 255, 0.7); padding: 16px; border-radius: 8px; margin: 8px 0; font-family: monospace;">
                    <div>Tracked sensitive strings: <span id="sensitive-count">0</span></div>
                    <div>Tracked crypto keys: <span id="crypto-keys-count">0</span></div>
                    <div>Tracked private keys: <span id="private-keys-count">0</span></div>
                    <div>Memory security: <span style="color: #00b894; font-weight: bold;">ACTIVE</span></div>
                </div>
                <button id="refresh-memory-status" class="button secondary">
                    üîÑ Refresh Status
                </button>
            </div>

            <div class="warning" style="background: rgba(255, 107, 107, 0.1); border-left-color: #ff6b6b;">
                <div class="warning-title">‚ö†Ô∏è Emergency Security Controls</div>
                <p style="margin-bottom: 16px;"><strong>Use these if you suspect your system is compromised:</strong></p>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                    <button id="secure-wipe-asymmetric" class="button danger">
                        üî• Wipe EC Keys
                    </button>
                    <button id="secure-wipe-symmetric" class="button danger">
                        üî• Wipe AES Keys
                    </button>
                </div>
                
                <button id="nuclear-wipe-everything" class="button" style="background: linear-gradient(45deg, #d63031, #e84393); color: white; width: 100%; font-weight: bold; font-size: 16px; padding: 16px;">
                    üí• NUCLEAR WIPE EVERYTHING üí•
                </button>
                
                <div style="margin-top: 12px; font-size: 13px; color: #636e72; text-align: center;">
                    ‚ö†Ô∏è Nuclear wipe destroys ALL keys and data permanently ‚ö†Ô∏è
                </div>
            </div>

            <div style="background: rgba(0, 184, 148, 0.1); padding: 16px; border-radius: 8px; margin-top: 16px; border-left: 4px solid #00b894;">
                <h4 style="color: #00b894; margin: 0 0 8px 0;">üõ°Ô∏è What This Protects Against</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; font-size: 13px; color: #2d3436;">
                    <div>‚úÖ Memory dump attacks</div>
                    <div>‚úÖ Browser exploits</div>
                    <div>‚úÖ Storage forensics</div>
                    <div>‚úÖ Cold boot attacks</div>
                    <div>‚úÖ Garbage collection recovery</div>
                    <div>‚úÖ System compromise</div>
                </div>
            </div>

            <div id="memory-security-status" style="margin-top: 12px; font-size: 14px; color: #636e72;"></div>
        </div>

        <div id="key-info" class="section" style="display: none;">
            <h2 class="section-title">üîë Key Information</h2>
            <div class="help-text">Key Fingerprint (SHA-256):</div>
            <div id="key-fingerprint" style="font-family: monospace; background: rgba(255, 255, 255, 0.7); padding: 12px; border-radius: 8px; word-break: break-all; margin-top: 8px;"></div>
        </div>

        <!-- Comprehensive Features List -->
        <div class="footer">
            <h3>üçã Complete Lemonade Feature List</h3>
            
            <div class="feature-list">
                <div class="feature-item">
                    <strong>üîê Encryption Methods</strong><br>
                    AES-GCM, ECDH P-256, Perfect Forward Secrecy
                </div>
                <div class="feature-item">
                    <strong>üé¨ Media Support</strong><br>
                    GIF URL encryption, Image URL encryption, Link expansion
                </div>
                <div class="feature-item">
                    <strong>üë• Contact Management</strong><br>
                    Auto-discovery, Key storage, Username tracking
                </div>
                <div class="feature-item">
                    <strong>üîÑ Key Rotation</strong><br>
                    Automatic rotation, Manual control, Time-based intervals
                </div>
                <div class="feature-item">
                    <strong>üé≠ Stealth Features</strong><br>
                    16 language encodings, Invisible to observers
                </div>
                <div class="feature-item">
                    <strong>‚ö° Performance</strong><br>
                    Configurable scan rates, Memory optimization
                </div>
                <div class="feature-item">
                    <strong>üéØ User Experience</strong><br>
                    Auto-encrypt toggle, Hotkey support, Visual indicators
                </div>
                <div class="feature-item">
                    <strong>üõ°Ô∏è Security</strong><br>
                    DoD memory wiping, Nuclear wipe, Local storage only
                </div>
                <div class="feature-item">
                    <strong>üé® Interface</strong><br>
                    Modern design, Desktop optimized, Beautiful gradients
                </div>
                <div class="feature-item">
                    <strong>‚å®Ô∏è Shortcuts</strong><br>
                    Ctrl+Shift+E (toggle), Ctrl+Shift+D (on/off)
                </div>
                <div class="feature-item">
                    <strong>üì± Compatibility</strong><br>
                    Discord web variants, Chrome-based browsers
                    </div>
                <div class="feature-item">
                    <strong>üîß Advanced</strong><br>
                    Debug console, Memory tracking, Emergency controls
                </div>
            </div>

            <div style="margin-top: 32px; padding: 24px; background: linear-gradient(135deg, #fdcb6e, #e17055); border-radius: 16px; color: white;">
                <h4 style="margin-bottom: 12px; font-size: 18px;">üçã Quick Start Guide</h4>
                <div style="text-align: left; font-size: 14px; line-height: 1.6;">
                    <strong>1.</strong> Set your encryption key above<br>
                    <strong>2.</strong> Enable asymmetric encryption for advanced features<br>
                    <strong>3.</strong> Type <code style="background: rgba(255,255,255,0.2); padding: 2px 6px; border-radius: 4px;">!priv</code> before messages to encrypt<br>
                    <strong>4.</strong> Or toggle auto-encrypt in the popup (üçã icon)<br>
                    <strong>5.</strong> Share your public key with trusted contacts<br>
                    <strong>6.</strong> Enjoy sweet & secure conversations! üçã
            </div>
        </div>

            <p style="margin-top: 24px; font-size: 14px; color: #636e72;">
                Lemonade v2.5.0 - Sweet & Secure Discord Encryption
            </p>
        </div>
    </div>

    <script src="options.js"></script>
</body>
</html> 